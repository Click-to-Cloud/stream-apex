<!DOCTYPE html><html><head><meta charset="UTF-8"><meta content="minimum-scale=1.0, width=device-width" name="viewport"><meta name="description" content="Streams"><title>Streams - Stream.apex</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto+Mono"><link rel="stylesheet" href="/stream-apex/vendor/galano/galano.css"><link rel="stylesheet" href="/stream-apex/vendor/icon-12/icon-12.css"><link rel="stylesheet" href="/stream-apex/vendor/icon-16/icon-16.css"><link rel="stylesheet" href="/stream-apex/vendor/senna/senna.css"><link rel="stylesheet" href="/stream-apex/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/stream-apex/vendor/codemirror/theme/dracula.css"><script src="/stream-apex/js/bundles/shared.electric.js"></script><script src="/stream-apex/vendor/senna/senna.js"></script><script src="/stream-apex/vendor/codemirror/lib/codemirror.js"></script><script src="/stream-apex/vendor/codemirror/mode/css/css.js"></script><script src="/stream-apex/vendor/codemirror/mode/javascript/javascript.js"></script><script src="/stream-apex/vendor/codemirror/mode/xml/xml.js"></script><link rel="stylesheet" href="/stream-apex/styles/main.css"></head><body data-senna=""><div data-senna-surface="" id="wrapper"><div class="senna-loading-bar"></div><div id="pageComponent"><div class="main"><main class="guide"><div class="docs"><nav class="topbar topbar-light topbar-docs"><div class="topbar-logo"><a class="topbar-logo-link" href="/stream-apex"><span class="topbar-logo-icon icon-16-hammer"></span><h3 class="topbar-logo-text">Stream.apex</h3></a></div><nav class="topbar-menu"><button class="topbar-toggle">Menu</button><ul class="topbar-list"><li class="topbar-item"><a class="topbar-link topbar-link-selected" href="/stream-apex/docs/" target="undefined"><span>Docs</span></a></li><li class="topbar-item"><a class="topbar-link " href="/stream-apex/tutorials/getting_started/step_1.html" target="undefined"><span>Tutorials</span></a></li></ul></nav></nav><nav class="sidebar"><a class="sidebar-header toggler-header-collapsed"><span class="sidebar-icon icon-16-menu"></span><span>Docs Menu</span><span class="sidebar-icon-right"><span class="icon-12-arrow-down-short"></span><span class="icon-12-arrow-up-short"></span></span></a><div class="sidebar-toggler-content toggler-collapsed"><div class="sidebar-search"><div class="page-autocomplete"><div class="form-group"><div class="input-inner-addon input-inner-addon-right"><input autocomplete="off" class="form-control" name="q" placeholder="Search Docs" ref="input" required="" type="text"><span class="input-inner-icon-helper icon-16-magnifier"></span></div></div></div></div><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/stream-apex/docs/Stream/"><span class="sidebar-icon icon-16-flash"></span><span>Streams</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/stream-apex/docs/Methods/"><span class="sidebar-icon icon-16-code-file"></span><span>Methods</span></a><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/stream-apex/docs/Methods/creation.html"><span class="sidebar-icon icon-16-code-file"></span><span>Creation Methods</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/stream-apex/docs/Methods/funcs.html"><span class="sidebar-icon icon-16-code-file"></span><span>Functions</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/stream-apex/docs/Methods/subscription.html"><span class="sidebar-icon icon-16-code-file"></span><span>Subscription Methods</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/stream-apex/docs/Methods/operation.html"><span class="sidebar-icon icon-16-code-file"></span><span>Operation Methods</span></a></li></ul></nav></li><li class="sidebar-item"><a class="sidebar-link " href="/stream-apex/docs/Subject/"><span class="sidebar-icon icon-16-cloud"></span><span>Subject</span></a></li></ul></nav></div></nav><div class="sidebar-offset"><header class="guide-header"><div class="container-hybrid"><h1 class="title">Streams Guide</h1></div></header><div class="container-hybrid"><div class="docs-guide row"><div class="docs-content col-xs-16 col-md-9"><div class="guide-content"><h6>Streams</h6><article id="1"><h2>What is a Stream?</h2><p>In a functional reactive world, streams are lists of events over time. But in Apex, with code running in its own execution context, we can hardly build an asynchronous stream. So in Stream.apex, we have only synchronous streams, which are just lists.</p><p>R.apex has already tons of functions to operate on lists, and then what is the point to build a stream?</p><p>Well, streams are actully event-driven lists. In R.apex, we do a <code>map</code> on the list, and get a new list. Then we operate on the new list, and continue. In Stream.apex, event-driven lists are different. Streams do not need to create any intermediate lists because they just work in place. When an element in a list is processed, it is treated as an event, and passed through all the operations in the stream chains. This goes on until this single element is fully processed, before the next element gets fired. In this way, streams are modelled like event-driven lists, and each stream receives events and notifies events.</p></article><article id="2"><h2>Subscription</h2><p>In Stream.apex, streams are just <code>observables</code> that emit events. We have <code>observers</code> that receive these events.</p><p>Here is how we build an observer with Funcs.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Stream.Observer ob = new Stream.FuncObserver(new OnNextFunc(), new OnErrorFunc(), new OnCompleteFunc());</code></pre></div><p>Then we subscribe this observer to the observable.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Stream.with(1, 2, 3)
    .subscribe(ob);</code></pre></div><p>The observer may have <code>onNext</code>, <code>onError</code> and <code>onComplete</code> implemented to handle stream events.</p><p>For simplicity's sake, we can also subscribe using Funcs directly.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Stream.with(1, 2, 3)
    .subscribe(R.debug, R.debug, R.debug);</code></pre></div></article><article id="3"><h2>Lazy Stream</h2><p>Streams are lazy in that they only emit values when an observer subscribes them. To check more on lazy streams, please refer to <a href="http://reactivex.io">RxJs</a>;</p></article><article id="4"><h2>Stream Operations</h2><p>Streams are still built in a functional reactive style. We can chain streams using the fluent API like this:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Stream.with(1, 2, 3)
    .startWith(Stream.of(0))
    .concatOther(Stream.range(4, 2))
    .filter(R.lt.apply(R.placeholder, 4))
    .mapBy(R.inc)
    .subscribe(R.debug);</code></pre></div></article><article id="5"><h2>Stream Subjects</h2><p>Stream subjects are hot streams that can multicast events. We can use stream subjects like this:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Stream.Subject s = new Stream.Subject();
s.subscribe(R.debug.apply('No.1'));
s.subscribe(R.debug.apply('No.2'));

s.next(1);
s.next(2);

// No.1, 1
// No.2, 1
// No.1, 2
// No.2, 2</code></pre></div></article><input type="hidden" value="Streams"><input type="hidden" value="Stream.apex"></div><div class="contribute"><div class="contribute-img"><span class="icon-16-github"></span></div><div class="contribute-text"><p>Contribute on Github! <a href="https://github.com/Click-to-Cloud/Stream.apex/tree/master/src/pages/docs/Stream/index.md" class="contribute-link" target="_blank">Edit this section</a>.</p></div></div></div><nav class="col-xs-16 col-md-offset-2 col-md-5"><div class="docs-nav-container"><div class="affix-top docs-nav"><div ref="readingContainer"></div></div></div></nav></div></div></div></div></main></div></div><script src="/stream-apex/js/bundles/cNynE.js"></script><script>var data = '{"pageLocation":"index.children.docs.children.Stream","site":{"title":"Stream.apex","githubRepo":"Click-to-Cloud/Stream.apex","googleAnalytics":"","index":{"title":"Home","description":"Stream.apex is a library that streamlines your Funcs in Apex.","srcFilePath":"src/pages/index.soy","id":"pages","location":"/./","url":"/stream-apex/./","children":{"docs":{"title":"Docs","description":"Everything you need to know to get started.","srcFilePath":"src/pages/docs/index.soy","id":"docs","location":"/docs/","url":"/stream-apex/docs/","children":{"search":{"title":"Search","description":"Find what you\'re looking for in the documentation.","hidden":true,"srcFilePath":"src/pages/docs/search.soy","id":"search","location":"/docs/search.html","url":"/stream-apex/docs/search.html"},"Methods":{"children":{"creation":{"title":"Creation Methods","description":"Creation Methods","layout":"guide","icon":"code-file","weight":2,"srcFilePath":"src/pages/docs/Methods/creation.md","id":"creation","location":"/docs/Methods/creation.html","url":"/stream-apex/docs/Methods/creation.html"},"funcs":{"title":"Functions","description":"Functions","layout":"guide","icon":"code-file","weight":2,"srcFilePath":"src/pages/docs/Methods/funcs.md","id":"funcs","location":"/docs/Methods/funcs.html","url":"/stream-apex/docs/Methods/funcs.html"},"operation":{"title":"Operation Methods","description":"Operation Methods","layout":"guide","icon":"code-file","weight":4,"srcFilePath":"src/pages/docs/Methods/operation.md","id":"operation","location":"/docs/Methods/operation.html","url":"/stream-apex/docs/Methods/operation.html"},"subscription":{"title":"Subscription Methods","description":"Subscription Methods","layout":"guide","icon":"code-file","weight":3,"srcFilePath":"src/pages/docs/Methods/subscription.md","id":"subscription","location":"/docs/Methods/subscription.html","url":"/stream-apex/docs/Methods/subscription.html"}},"title":"Methods","description":"Methods","layout":"guide","icon":"code-file","weight":2,"srcFilePath":"src/pages/docs/Methods/index.md","id":"Methods","location":"/docs/Methods/","url":"/stream-apex/docs/Methods/","childIds":["creation","funcs","subscription","operation"]},"Stream":{"title":"Streams","description":"Streams","layout":"guide","icon":"flash","weight":1,"srcFilePath":"src/pages/docs/Stream/index.md","id":"Stream","location":"/docs/Stream/","url":"/stream-apex/docs/Stream/","active":true},"Subject":{"title":"Subject","description":"Subject","layout":"guide","icon":"cloud","weight":4,"srcFilePath":"src/pages/docs/Subject/index.md","id":"Subject","location":"/docs/Subject/","url":"/stream-apex/docs/Subject/"}},"childIds":["Stream","Methods","Subject","search"],"active":true},"tutorials":{"title":"Tutorials","description":"The tutorials","url":"/stream-apex/tutorials/getting_started/step_1.html","layout":false,"srcFilePath":"src/pages/tutorials/index.soy","id":"tutorials","location":"/tutorials/","customURL":true,"children":{"getting_started":{"title":"Getting Started","description":"The Getting Started Tutorial","tutorialTitle":"Getting started with Stream.apex","url":"/stream-apex/tutorials/getting_started/step_1.html","layout":false,"srcFilePath":"src/pages/tutorials/getting_started/index.soy","id":"getting_started","location":"/tutorials/getting_started/","customURL":true,"children":{"step_1":{"title":"Installation","description":"Include Apex files","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":1,"srcFilePath":"src/pages/tutorials/getting_started/step_1.md","id":"step_1","location":"/tutorials/getting_started/step_1.html","url":"/stream-apex/tutorials/getting_started/step_1.html"},"step_2":{"title":"Preliminary Knowledge","description":"Preliminary Knowledge","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":2,"srcFilePath":"src/pages/tutorials/getting_started/step_2.md","id":"step_2","location":"/tutorials/getting_started/step_2.html","url":"/stream-apex/tutorials/getting_started/step_2.html"},"step_3":{"title":"Create Streams","description":"Create Streams","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":3,"srcFilePath":"src/pages/tutorials/getting_started/step_3.md","id":"step_3","location":"/tutorials/getting_started/step_3.html","url":"/stream-apex/tutorials/getting_started/step_3.html"},"step_4":{"title":"Subscription","description":"Subscription","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":4,"srcFilePath":"src/pages/tutorials/getting_started/step_4.md","id":"step_4","location":"/tutorials/getting_started/step_4.html","url":"/stream-apex/tutorials/getting_started/step_4.html"},"step_5":{"title":"Lazy Streams","description":"Lazy Streams","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":5,"srcFilePath":"src/pages/tutorials/getting_started/step_5.md","id":"step_5","location":"/tutorials/getting_started/step_5.html","url":"/stream-apex/tutorials/getting_started/step_5.html"},"step_6":{"title":"Stream Operations","description":"Stream Operations","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":6,"srcFilePath":"src/pages/tutorials/getting_started/step_6.md","id":"step_6","location":"/tutorials/getting_started/step_6.html","url":"/stream-apex/tutorials/getting_started/step_6.html"},"step_7":{"title":"Subjects","description":"Subjects","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":7,"srcFilePath":"src/pages/tutorials/getting_started/step_7.md","id":"step_7","location":"/tutorials/getting_started/step_7.html","url":"/stream-apex/tutorials/getting_started/step_7.html"}},"childIds":["step_1","step_2","step_3","step_4","step_5","step_6","step_7"]}},"childIds":["getting_started"]}},"childIds":["docs","tutorials"]},"basePath":"/stream-apex","topbar":[{"href":"/stream-apex/docs/","label":"Docs","selected":true},{"href":"/stream-apex/tutorials/getting_started/step_1.html","label":"Tutorials"}]}}'; if (typeof electric !== 'undefined') {electric.init(data);}else {document.addEventListener('DOMContentLoaded', function() {electric.init(data);});}</script></div><script data-senna-track="permanent" src="/stream-apex/js/electric/electric.js"></script></body></html>